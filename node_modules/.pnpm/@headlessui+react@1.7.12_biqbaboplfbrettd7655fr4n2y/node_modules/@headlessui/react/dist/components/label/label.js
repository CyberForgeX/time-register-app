import c,{createContext as L,useContext as m,useMemo as f,useState as b}from"react";import{useId as T}from'../../hooks/use-id.js';import{forwardRefWithAs as E,render as g}from'../../utils/render.js';import{useIsoMorphicEffect as x}from'../../hooks/use-iso-morphic-effect.js';import{useSyncRefs as P}from'../../hooks/use-sync-refs.js';import{useEvent as y}from'../../hooks/use-event.js';let d=L(null);function u(){let n=m(d);if(n===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,u),t}return n}function H(){let[n,t]=b([]);return[n.length>0?n.join(" "):void 0,f(()=>function(e){let s=y(r=>(t(l=>[...l,r]),()=>t(l=>{let o=l.slice(),p=o.indexOf(r);return p!==-1&&o.splice(p,1),o}))),a=f(()=>({register:s,slot:e.slot,name:e.name,props:e.props}),[s,e.slot,e.name,e.props]);return c.createElement(d.Provider,{value:a},e.children)},[t])]}let A="label";function v(n,t){let i=T(),{id:e=`headlessui-label-${i}`,passive:s=!1,...a}=n,r=u(),l=P(t);x(()=>r.register(e),[e,r.register]);let o={ref:l,...r.props,id:e};return s&&("onClick"in o&&delete o.onClick,"onClick"in a&&delete a.onClick),g({ourProps:o,theirProps:a,slot:r.slot||{},defaultTag:A,name:r.name||"Label"})}let h=E(v),M=Object.assign(h,{});export{M as Label,H as useLabels};
